<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>NEONFLIX — Login</title>
<style>
  :root{--bg:#000;--accent:#ff2d2d;--card:#0b0b0b;--text:#fff}
  body{margin:0;background:linear-gradient(180deg,#000,#070707);color:var(--text);font-family:Arial,Helvetica,sans-serif;display:flex;align-items:center;justify-content:center;height:100vh}
  .box{width:360px;background:linear-gradient(180deg,#0d0d0d,#0a0a0a);padding:28px;border-radius:14px;box-shadow:0 10px 40px rgba(0,0,0,0.7);border:1px solid rgba(255,45,45,0.06)}
  .logo{color:var(--accent);font-weight:800;font-size:22px;text-align:center;margin-bottom:14px;text-shadow:0 0 12px rgba(255,45,45,0.12)}
  label{display:block;font-size:13px;color:#ddd;margin-top:8px}
  input{width:100%;padding:10px;border-radius:8px;border:none;background:#111;color:#fff;margin-top:6px;box-sizing:border-box}
  .row{display:flex;gap:8px;margin-top:14px}
  button{flex:1;padding:10px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
  .btn-primary{background:var(--accent);color:#000;box-shadow:0 6px 18px rgba(255,45,45,0.18)}
  .btn-secondary{background:#222;color:#fff;border:1px solid rgba(255,255,255,0.04)}
  .msg{margin-top:8px;color:#ffd700;font-weight:700;text-align:center}
</style>
</head>
<body>

<div class="box">
  <div class="logo">NEONFLIX</div>

  <label for="login">Login</label>
  <input id="login" type="text" placeholder="ex.: lexa123" autocomplete="off">

  <label for="senha">Senha</label>
  <input id="senha" type="password" placeholder="Digite sua senha">

  <div class="row">
    <button class="btn-primary" onclick="entrar()">Entrar</button>
    <button class="btn-secondary" onclick="criarSenha()">Criar senha</button>
  </div>

  <div id="msg" class="msg" style="display:none"></div>
</div>

<script>
  // 45 senhas pré-geradas (8 dígitos cada)
  const senhasValidas = [
    "48392017","59203841","71928304","83047519","94820375",
    "10293847","56473829","37482910","48592037","19283746",
    "29384756","83746519","10274638","56473820","91827364",
    "38475629","29384710","74839210","56473821","83746520",
    "10293848","91827365","37482911","48592038","19283747",
    "29384757","83746521","10274639","56473822","91827366",
    "38475630","29384711","74839211","56473823","83746522",
    "10293849","91827367","37482912","48592039","19283748",
    "29384758","83746523","10274640","56473824","91827368"
  ];

  function lerAtivos(){
    return JSON.parse(localStorage.getItem('senhasAtivas')||'[]');
  }

  function salvarAtivo(user, senha){
    let ativos = lerAtivos();
    // Bloqueia se a senha já estiver em uso por outro login
    if(ativos.find(a=>a.senha===senha && a.user!==user)){
      return {ok:false, reason:'Senha já em uso por outro usuário!'};
    }
    // Atualiza ou adiciona
    const idx = ativos.findIndex(a=>a.user===user);
    const entry = {user, senha, ts:Date.now()};
    if(idx>=0) ativos[idx] = entry; else ativos.push(entry);
    localStorage.setItem('senhasAtivas', JSON.stringify(ativos));
    localStorage.setItem('usuarioLogado', user);
    return {ok:true};
  }

  function entrar(){
    const login = document.getElementById('login').value.trim();
    const senha = document.getElementById('senha').value.trim();
    const msgEl = document.getElementById('msg');
    msgEl.style.display='none';
    if(!login || !senha){ msgEl.textContent='Preencha login e senha'; msgEl.style.display='block'; return; }
    if(!senhasValidas.includes(senha)){ msgEl.textContent='Senha inválida'; msgEl.style.display='block'; return; }
    const res = salvarAtivo(login, senha);
    if(!res.ok){ msgEl.textContent=res.reason; msgEl.style.display='block'; return; }
    // sucesso -> vai pro home
    window.location.href = 'home.html';
  }

  function criarSenha(){
    const url = 'https://wa.me/+5521974277322?text=Olá!%20Quero%20uma%20senha%20para%20acessar%20o NeonFlix';
    window.open(url,'_blank');
  }
</script>

</body>
</html>